### **无刷直流电机与交流伺服电机 - 知识点详解**

-----

#### **第一部分：交流伺服电机概述**

**1. 定义与作用**

  * **伺服 (Servo)**：源于词根 "Servus"（奴隶），意为严格遵照指令工作。伺服系统是使物体的位置、方位、状态等输出量能够**精确跟随**输入目标变化的自动控制系统。
  * **伺服电机**：作为执行元件，将电信号转换为轴上的角位移或角速度。
  * **核心要求**：强调精确的**位置控制**、**速度控制**和**转矩控制**。

**2. 结构演变（从直流到交流）**

  * **传统直流伺服**：依靠机械换向器和电刷，存在火花、磨损、维护难的问题。
  * **交流伺服 (AC Servo)**：
      * **结构翻转**：将直流电机的“定子磁场、转子电枢”翻转为“定子电枢、转子磁场”。
      * **去掉了电刷**：实现了“无刷化”，维护简单，寿命长。

-----

#### **第二部分：BLDC 与 PMSM 的核心区别**

这是本章的**理论核心**。我们不能只记结论，要掌握背后的\*\*“电磁设计规则” (Design Rules)\*\*。

**1. 设计逻辑链条**
电机的类型不是由驱动器决定的，而是由**电机本体**决定的。遵循以下因果链：

> **转子磁极设计 $\rightarrow$ 气隙磁密分布 ($B$) $\rightarrow$ 反电动势波形 ($E$) $\rightarrow$ 最佳驱动电流 ($I$)**

**2. 详细对比表**

| 特性 | **无刷直流电机 (BLDC)** | **永磁同步电机 (PMSM)** |
| :--- | :--- | :--- |
| **1. 转子磁极设计**  | **瓦片形磁极**，采用**径向充磁**。 | **面包形磁极**，采用**平行充磁**；或 Halbach 阵列。 |
| **2. 气隙磁密 ($B$)**  | 设计目标是**平顶宽阔的梯形波**。 | 设计目标是**纯净的正弦波**。 |
| **3. 反电势 ($E$)**  | **梯形波** (平顶宽度应 $\ge 120^\circ$ 电角度)。 | **正弦波**。 |
| **4. 理想驱动电流**  | **方波 (矩形波)**。 | **正弦波**。 |
| **5. 转矩产生原理**  | $T = 2 \times (E_{平顶} \times I_{平顶})$<br>利用平顶对平顶，**避开斜坡**。 | $T \propto (E_{sin} \times I_{sin})$<br>三相合成恒定力矩。 |
| **6. 传感器配置**  | 低成本**霍尔元件 (Hall)** (3个，分辨率低)。 | 高精度**光电编码器/旋变** (检测绝对位置 $\theta$)。 |

-----

#### **第三部分：无刷直流电机 (BLDC) 的工作原理 (重点补充)**

第一版这里讲得太略了，这里详细补充 **“六步换向法”** 的细节，这是 BLDC 能转起来的关键。

**1. 系统硬件组成**

  * **三相逆变桥**：由 6 个功率开关管（VT1\~VT6）组成。
  * **位置传感器**：通常是 3 个霍尔元件 ($H_a, H_b, H_c$)，安装在定子上，互差 120°（或 60°）电角度。

**2. 控制策略：三相六拍 (120° 导通型)**

  * **核心规则**：

      * **“两两导通”**：任意时刻，只有 **2相** 绕组通电（一相进，一相出），**第3相悬空**。
      * **“六步换向”**：转子每转过 **60° 电角度**，霍尔信号变一次，功率管开关状态切换一次。

  * **换向过程详解 (以 A相 为例)**：

      * **Step 1-2 (120°区域)**：A相作为**正极**进电 ($I_a = +I$)。此时反电势处于**正平顶**。
      * **Step 3 (60°区域)**：A相**关断** ($I_a = 0$)。此时反电势处于**下降斜坡**（避开它！）。
      * **Step 4-5 (120°区域)**：A相作为**负极**出电 ($I_a = -I$)。此时反电势处于**负平顶**。
      * **Step 6 (60°区域)**：A相**关断** ($I_a = 0$)。此时反电势处于**上升斜坡**。

  * **为什么叫“方波驱动”？**
    如果你看某一相的电流波形，它就是：**“通(+) $\to$ 通(+) $\to$ 断(0) $\to$ 通(-) $\to$ 通(-) $\to$ 断(0)”**。这个波形就是方波。

-----

#### **第四部分：交流伺服的矢量控制 (FOC) 原理 (核心补充)**

这里补充我们讨论过的 **“频率不可见”** 和 **“坐标变换”** 的深层含义。

**1. 控制目标：解耦**

  * 将复杂的、耦合的交流电机模型，通过数学变换，等效为**直流电机模型**来控制。
  * **$i_d$ (励磁分量)** $\leftrightarrow$ 对应直流电机的励磁电流。
  * **$i_q$ (转矩分量)** $\leftrightarrow$ 对应直流电机的电枢电流。

**2. 三大坐标变换详解**

1.  **Clark 变换 ($3 \to 2$ 静止)**：
      * 利用 $i_a + i_b + i_c = 0$ (星型接法无中线)，将三相交流电投影到 $\alpha-\beta$ 静止坐标系。
2.  **Park 变换 ($2$ 静止 $\to 2$ 旋转)** —— **最关键的一步**
      * 输入：交流量 $i_\alpha, i_\beta$ 和 **实时转子角度 $\theta$**。
      * 输出：直流量 $i_d, i_q$。
      * **物理意义**：建立一个**跟着转子一起跑**的坐标系。在这里，旋转的电流矢量看起来是**静止**的。
      * **“频率不可见”**：PI 控制器处理的是 $i_d, i_q$ 这两个**直流值**，它感觉不到电机转速的变化（频率信息被 Park 变换剥离了）。
3.  **反 Park 变换 ($2$ 旋转 $\to 2$ 静止)**：
      * 将 PI 算出的直流电压指令 $V_d, V_q$，结合实时角度 $\theta$，还原成交流电压指令。
      * **“自同步”**：电机转得越快，$\theta$ 变化越快，这里生成的正弦波频率就自动越高。

**3. FOC 闭环控制流**

  * **电流环**：$i_q$ 跟踪转矩指令，$i_d$ 通常锁定为 0 (SPM电机)。
  * **速度环**：测量速度与给定速度比较，输出 $i_q$ 指令。
  * **位置环**：最外环，实现精密定位。

-----

#### **第五部分：直线伺服电机 (Linear Motor)**

**1. 结构原理**

  * **“切开拉直”**：旋转电机 $\xrightarrow{\text{沿径向切开并展平}}$ 直线电机。
  * **定子 $\to$ 初级 (Primary)**：线圈绕组，通常运动。
  * **转子 $\to$ 次级 (Secondary)**：永磁体轨道，通常固定。

**2. 优缺点 (直驱技术 DD)**

  * **优点**：
      * **速度/加速度极高**：无离心力限制，无机械传动惯量。
      * **精度极高**：消除了**反向间隙 (Backlash)**。
  * **缺点**：
      * **发热严重**：初级是运动的，散热难，热膨胀影响精度。
      * **边端效应**：磁场两头断开，导致推力波动。
      * **防护难**：磁铁裸露吸铁屑。

-----

#### **第六部分：重点问题 Q\&A (来自你的提问)**

1.  **极对数 $p$ 的定义**：
      * **结论**：**每相**绕组的极对数 = **合成**旋转磁场的极对数 = **转子**永磁体的极对数。它是电机的**硬件固有参数**，数值唯一。
2.  **为什么 $i_c$ 不需要测？**
      * 基于 **星型接法 (Y) 且中性点不接地**。根据 KCL 定律，强制 $i_a + i_b + i_c = 0$，所以测两相即可算第三相。
3.  **转子磁场方向**：
      * 定义为 **d 轴 (直轴)** 方向。FOC 中控制 $i_d=0$ 就是为了让定子磁场始终垂直于这个轴 ($q$轴)，产生最大转矩。